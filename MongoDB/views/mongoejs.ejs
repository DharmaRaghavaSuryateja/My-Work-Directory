<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
          margin: 0;
          padding: 0;
        }
        #li
        {
            display: flex;
            flex-direction: row;
        }
        #heading
        {
            
            font-size: 50px;
            background-color: gray;
            height: 100px;
            display: flex;
            align-items:center;
            justify-content: center;
            width: 500px;
            margin: auto;
            box-sizing: border-box;
        }
        #nae{
           
           display: flex;
           justify-content: center;
           box-sizing: border-box;

          
        }
        #name
        {
            width: 500px;
            height: 50px;
            text-align: center;
            font-size: 20px;
        }
        
        .list
        {
            display: flex;
            flex-direction: row;
            width: 500px;
            justify-content:space-between;
            margin: auto;
            border: 1px solid black;
            height: 40px;
            box-sizing: border-box;
            padding-left: 10px;
            padding-right: 10px;
            align-items: center;

        }
        .list:hover .btn
        {
            visibility: visible;
        }
        #content
        {
            font-size: 20px;
        }
        .btn
        {
            width: 20px;
            visibility: hidden;
        }
        .bottom
        {
            display: flex;
            flex-direction: row;
            width: 500px;
            box-sizing: border-box;
            margin: auto;
            justify-content: space-between;
            align-items: center;
          height: 50px;
          background-color: lightgray;
          padding-left: 10px;
          padding-right: 10px;
        }
        #buttons
        {
            height: 30px;
            padding: 5px;
            
            background-color: lightgray;
        }
        .strike{
            text-decoration: line-through;
        }
       
    </style>
</head>
<body>
    <h1 id="heading">TO-DO</h1>
    <form action="/addlist" method="post">
        <div id="nae">
        <input type="text" name="name" id="name" placeholder="What needs to be done?">
        </div>
    </form>
     <% let checked %>
     <% let strike%>
     <div id="li">
    <%for(i=0;i<array.length;i++){%>
        <li class="list">
            <% checked = (array[i].isCompleted==="true")?"checked":""%>
            <% strike = (array[i].isCompleted==="true")?"strike":""%>
            <form action="/update/<%=array[i]._id%>" method="post">
            <input type="checkbox" name="check" value="<%=array[i].isCompleted%>" id="check" onchange="this.form.submit()" <%=checked%>>
           </form>
            <p class="<%=strike%>" id="content"><%=array[i].list%></p>
           
            <form action="/delete/<%=array[i]._id%>" method="post">
            <input type="submit" value="x" id="btn" class="btn">
            </form>
        </li>
        </div>
        <%}%>
        <div class="bottom">
            <div class="count">
               <p style="font-size:18px;"><%=len%> left</p>
            </div>
            <div id="downbtn">
                <form action="/all" method="get">
               <input type="submit" value="All"  id="buttons">
               </form>
            </div>
            <div id="downbtn">
                <form action="/active" method="get">
              <input type="submit" value="Active" id="buttons">
              </form>
            </div>
            <div id="downbtn">
             <form action="/completed" method="get">
              <input type="submit" value="Completed" id="buttons">
              </form>
            </div>
            <div id="downbtn">
                <form action="/deleteall" method="post">
                    <input type="submit" value="Clear Completed" id="buttons">
                </form>
            </div>
        </div>

</body>
</html>